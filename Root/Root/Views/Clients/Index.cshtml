@model Root.Models.ClientsViewModel
@using Root.Models
@{
    ViewBag.Title = "Client List";
}

@if (TempData["notice"] != null && TempData["notice"].ToString() != "RED")
{
  <br />  <div class="alert alert-dismissible alert-success">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>Congrats!!</strong> @TempData["notice"]
    </div>

}
@if (TempData["notice"] != null && TempData["notice"].ToString() == "RED")
{
    <div class="alert alert-dismissible alert-danger">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>Oh snap!</strong> <a href="#" class="alert-link">Change a few things up</a> and try submitting again.
    </div>
}
<h2>List of Clients</h2>
<table class="table table-striped table-hover">
    <tr>
        <th>
            Client Name
        </th>
        <th>
            Email
        </th>
        <th>
            Project Id
        </th>
        <th>
            Project Name
        </th>
    </tr>
    @foreach (Clients xclient in Model.allClients)
    {
        <tr>
            <td>
                @Html.ActionLink(xclient.Name, "getClient", new { id = xclient.ClientId })
            </td>
            <td>
              @xclient.Email
            </td>
            <td>
              @xclient.ProjectId
            </td>
            <td>
                @Model.allProjects.Single(x => x.ProjectId == xclient.ProjectId).ProjectName
            </td>
        </tr>

    }
</table>

